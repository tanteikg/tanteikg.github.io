(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,o,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(6972)}])},6972:function(e,o,r){"use strict";r.r(o),r.d(o,{default:function(){return k}});var s=r(5893);let t="0.1.0";var a=r(2623),i=r(61),n=r(8818),l=r(6137),d=r(7841),c=r(966),h=r(7294),u=r(1876).Buffer;function f(){let e=(0,h.useRef)(),[o,f]=(0,h.useState)(""),[p,x]=(0,h.useState)(""),[w,j]=(0,h.useState)(void 0),[v,m]=(0,h.useState)(!1);(0,h.useEffect)(()=>(e.current=new Worker(r.tu(new URL(r.p+r.u(710),r.b))),e.current.onmessage=e=>{e.data instanceof Error?alert(e.data.message):"sk_to_hashed_wallet_addr_proof"===e.data.type&&j({version:t,hashed_addr:e.data.hashed_wallet_addr,message:e.data.message,proof:u.from(e.data.proof).toString("base64")}),m(!1)},()=>{var o;null===(o=e.current)||void 0===o||o.terminate()}),[]);let _=(0,h.useCallback)(async(o,r)=>{var s;null===(s=e.current)||void 0===s||s.postMessage({type:"sk_to_hashed_wallet_addr_proof",sk:o,message:r,prefix:0})},[]);return(0,s.jsxs)(a.X,{p:"md",shadow:"md",children:[(0,s.jsx)("h1",{children:"Generate Proof"}),(0,s.jsx)(i.o,{label:"Secret Key (hex)",value:o,placeholder:"0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef",onChange:e=>{f(e.currentTarget.value)},withAsterisk:!0,required:!0}),(0,s.jsx)(n.T,{h:"xs"}),(0,s.jsx)(i.o,{label:"Username to bind to the proof i.e. <username> has control over the assets associated with this proof",value:p,placeholder:"testuser",onChange:e=>{x(e.currentTarget.value)},withAsterisk:!0,required:!0}),(0,s.jsx)(n.T,{h:"xs"}),(0,s.jsxs)(l.Z,{children:[(0,s.jsx)(d.z,{onClick:async()=>{m(!0),j(void 0),_(o,p+" has control over the assets associated with this proof")},disabled:v,children:"Calculate Proof"}),(0,s.jsx)(n.T,{h:"xs"}),v&&(0,s.jsxs)(l.Z,{children:[(0,s.jsx)(c.a,{size:"1.5rem"}),"Generating proof..."]}),w&&(0,s.jsx)(d.z,{onClick:()=>(function(e,o){let r=new Blob([JSON.stringify(e,null,"	")],{type:"application/json"}),s=window.URL.createObjectURL(r);!function(e,o){let r=document.createElement("a");r.href=e,r.download=o,document.body.appendChild(r),r.style.display="none",r.click(),r.remove()}(s,o),setTimeout(()=>window.URL.revokeObjectURL(s),1e3)})(w,"proof.json"),children:"Download Proof"})]})]})}var p=r(8478),x=r(2593),w=r(8198),j=r(7283),v=r(1876).Buffer;function m(){let e=(0,h.useRef)(),[o,i]=(0,h.useState)(null),[u,f]=(0,h.useState)(!1),[m,_]=(0,h.useState)(void 0);(0,h.useEffect)(()=>(e.current=new Worker(r.tu(new URL(r.p+r.u(803),r.b))),e.current.onmessage=e=>{e.data instanceof Error?(_(!1),alert(e.data.message)):"verify_hashed_wallet_addr_proof"===e.data.type&&_(e.data.data),f(!1)},()=>{var o;null===(o=e.current)||void 0===o||o.terminate()}),[]);let b=(0,h.useCallback)(async(o,r,s)=>{var t;null===(t=e.current)||void 0===t||t.postMessage({type:"verify_hashed_wallet_addr_proof",hashed_addr:o,message:r,proof:s})},[]);return(0,s.jsxs)(a.X,{p:"md",shadow:"md",children:[(0,s.jsx)("h1",{children:"Verify Proof"}),(0,s.jsx)(p.S,{label:"Upload Proof",multiple:!1,placeholder:"Choose proof file",accept:".json",withAsterisk:!0,value:o,onChange:i}),(0,s.jsx)(n.T,{h:"xs"}),(0,s.jsxs)(l.Z,{children:[(0,s.jsx)(d.z,{onClick:async()=>{if(!o){alert("Please upload proof");return}f(!0),_(void 0);try{let e=JSON.parse(await o.text());if(e.version!==t)throw Error("Unsupported proof version: ".concat(e.version,", current version is ").concat(t));b(e.hashed_addr,e.message,v.from(e.proof,"base64"))}catch(e){alert(e),f(!1)}},disabled:u,children:"Verify Proof"}),(0,s.jsx)(n.T,{h:"xs"}),u&&(0,s.jsxs)(l.Z,{children:[(0,s.jsx)(c.a,{size:"1.5rem"}),"Verifying..."]}),!0===m&&(0,s.jsx)(x.P,{icon:(0,s.jsx)(w.Z,{size:"1.1rem"}),color:"teal",title:"Proof Verification successful",withCloseButton:!1}),!1===m&&(0,s.jsx)(x.P,{icon:(0,s.jsx)(j.Z,{size:"1.1rem"}),color:"red",title:"Proof Verification failed",withCloseButton:!1})]})]})}var _=r(2445),b=r(9008),y=r.n(b);function k(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(y(),{children:[(0,s.jsx)("title",{children:"AStablish Proof-of-Assets demo"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,s.jsxs)(_.W,{children:[(0,s.jsx)("h1",{children:"Publish your Bitcoin wallet ownership securely"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"This page allows you to create a zero-knowledge proof of ownership of a Bitcoin address without revealing your address. "}),(0,s.jsxs)("li",{children:["To generate the proof, you will need your private key in hexadecimal. For example, it should look like ",(0,s.jsx)("code",{children:" 0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef "})," "]}),(0,s.jsxs)("li",{children:["Once the proof is generated, you should see that the addr_hash associated with the proof should look like ",(0,s.jsx)("code",{children:"1aa6c13bf76e39a3997cf6d18b74f7ac9d5a9eb0c3dc2e7761714aa1c1a57754"})," "]}),(0,s.jsx)("li",{children:"To verify the proof, you will need to upload to the proof file for verification "}),(0,s.jsxs)("li",{children:["Proof verification does not reveal your wallet address. This ensures privacy in the publication of the proof. The addr_hash is a SHA256 hash of the RIPEMD160 result of your public key. For the above example private key, the associated bitcoin wallet address is ",(0,s.jsx)("code",{children:" 1M8Qk46ERsPrEtWLBRSET5NUH2Ck5wwREU "})," "]})]}),(0,s.jsx)(f,{}),(0,s.jsx)(n.T,{h:"md"}),(0,s.jsx)(m,{})]})]})}}},function(e){e.O(0,[158,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);